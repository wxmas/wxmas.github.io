---
layout: post
title: C、C++运算符优先级总结
date: 2017-08-27 14:26
categories:
- C
- C++
tags: 
- C
- C++
---


# C语言运算符优先级 # 
优先级|运算符|解释|结合方式
:-:|-|-|:-:
1|() <br> [] <br> -> <br> .	|括号（函数等）<br>数组<br>成员访问结构<br>成员访问结构|由左向右
2|!<br> ~<br> ++<br> --<br> +<br> -<br> *<br> &<br> (类型)<br> sizeof|否定<br>按位否定<br>增量<br>减量<br>正号<br>负号<br>间接<br>取地址<br>类型转换<br>求大小|由右向左
3|*<br> /<br> %|乘<br>除<br>取模|由左向右
4|+<br> -<br>|加<br>减|由左向右
5|<< <br> >>|左移<br>右移|由左向右
6|< <br> <= <br> >= <br> >|小于<br>小于等于<br>大于等于<br>大于|由左向右
7|==<br> !=<br>|等于<br>不等于|由左向右
8|& |按位与|由左向右
9|^	|按位异或|由左向右
10| \| |按位或|由左向右
11|&& |逻辑与|由左向右
12| \|\| |逻辑或|由左向右
13| ? : |条件|由右向左
14|=<br> +=<br> -=<br> *=<br> /=<br> &=<br> ^=<br> \|=<br> <<=<br> >>=|各种赋值|由右向左
15| , |逗号（顺序）|由左向右

# C++运算符优先级 #
|优先级|操作符|描述|例子|结合性|
|:---:|---|---|---|:---:|
1|() <br> [] <br> -> <br> . <br> **::** <br> ++ <br> -- |调节优先级的括号操作符<br>数组下标访问操作符<br>通过指向对象的指针访问成员的操作符<br>通过对象本身访问成员的操作符<br>**作用域操作符**<br>后置自增操作符<br>后置自减操作符|(a + b) / 4;<br>array[4] = 2;<br>ptr->age = 34;<br>obj.age =  34;<br>**Class::age = 2;**<br>for( i = 0; i < 10; i++ ) ...<br>for( i = 10; i > 0; i-- ) ... | 从左到右|
2|!<br>~<br>++<br>--<br>-<br>+<br>*<br>&<br>(type)sizeof|逻辑取反操作符<br>按位取反(按位取补)<br>前置自增操作符 <br>前置自减操作符<br>一元取负操作符<br>一元取正操作符<br>解引用操作符<br>取地址操作符<br>类型转换操作符<br>返回对象占用的字节数操作符|if( !done ) ...<br>flags = ~flags;<br>for( i = 0; i < 10; ++i ) ...<br>for( i = 10; i > 0; --i ) ...<br>int i = -1;<br>int i = +1;<br>data = *ptr;<br>address = &obj;<br>int i = (int) floatNum;<br>int size = sizeof(floatNum);|从右到左|
**3**|**->\*<br>.\***|**在指针上通过指向成员的指针访问成员的操作符<br>在对象上通过指向成员的指针访问成员的操作符**|**ptr->\*var = 24;<br>obj.\*var = 24;**|**从左到右**|
4|*<br>/<br>%|乘法操作符<br>除法操作符<br>取余数操作符|int i = 2 * 4;<br>float f = 10 / 3;<br>int rem = 4 % 3;|从左到右|
5|+<br>-|加法操作符<br>减法操作符|int i = 2 + 3;<br>int i = 5 - 1;|从左到右|
6|<< <br> >>|按位左移操作符<br>按位右移操作符|int flags = 33 << 1;<br>int flags = 33 >> 1;|从左到右
7|< <br> <= <br> > <br> >= |小于比较操作符<br>小于或等于比较操作符<br>大于比较操作符<br>大于或等于比较操作符|if( i < 42 ) ...<br>if( i <= 42 ) ...<br>if( i > 42 ) ...<br>if( i >= 42 ) ...| 从左到右
8|==<br>!=|等于比较操作符<br>不等于比较操作符|if( i == 42 ) ...<br>if( i != 42 ) ...|从左到右
9|&|按位与操作符|flags = flags & 42;|从左到右
10|^|按位异或操作符|flags = flags ^ 42;|从左到右
11| \| |按位或操作符|flags = flags \| 42;|从左到右
12|&&|逻辑与操作符|if( conditionA && conditionB ) ...|从左到右
13| \|\| |逻辑或操作符|if( conditionA \|\| conditionB ) ...|从左到右
14|? :|三元条件操作符|int i = (a > b) ? a : b;|从右到左
15|= <br> += <br> -= <br> *= <br> /= <br> %= <br> &= <br> ^= <br> \|= <br> <<= <br> >>=|赋值操作符<br>复合赋值操作符(加法)<br>复合赋值操作符(减法)<br>复合赋值操作符(乘法)<br>复合赋值操作符(除法)<br>复合赋值操作符(取余)<br>复合赋值操作符(按位与)<br>复合赋值操作符(按位异或)<br>复合赋值操作符(按位或)<br>复合赋值操作符(按位左移)<br>复合赋值操作符(按位右移)|int a = b;<br>a += 3;<br>b -= 4;<br>a *= 5;<br>a /= 2;<br>a %= 3;<br>flags &= new_flags;<br>flags ^= new_flags;<br>flags \|= new_flags;<br>flags <<= 2;<br>flags >>= 2;|从右到左
16| , |逗号操作符|for( i = 0, j = 0; i < 10; i++, j++ ) ...|从左到右


# 记忆方法： #
--摘自《C语言程序设计实用问答》

问题：如何记住运算符的15种优先级和结合性？
解答：C语言中运算符种类比较繁多，优先级有15种，结合性有两种。
如何记忆两种结合性和15种优先级？下面讲述一种记忆方法。
- 结合性有两种，一种是自左至右，另一种是自右至左，大部分运算符的结合性是自左至右，只有单目运算符、三目运算符的赋值运算符的结合性自右至左。
- 优先级有15种。记忆方法如下：
	- 记住一个最高的：构造类型的元素或成员以及小括号。
	- 记住一个最低的：逗号运算符。
    - 剩余的是一、二、三、赋值。
    （意思是单目、双目、三目和赋值运算符。）
    - 在诸多运算符中，又分为：算术、关系、逻辑。
    - 两种位操作运算符中，移位运算符在算术运算符后边，逻辑位运算符在逻辑运算符的前面。再细分如下：
    	- 算术运算符中*，/，%高于+，-。
    	- 关系运算符中，〉，〉=，<，<=高于==，！=。
    	- 逻辑运算符中，除了逻辑求反（！）是单目外，逻辑与（&&）高于逻辑或（||）。
    	- 逻辑位运算符中，除了逻辑按位求反（~）外，按位与（&)高于按位半加（^)，高于按位或（|）。

这样就将15种优先级都记住了，再将记忆方法总结如下：
**`去掉一个最高的，去掉一个最低的，剩下的是一、二、三、赋值。双目运算符中，顺序为算术、关系和逻辑，移位和逻辑位插入其中。`**

